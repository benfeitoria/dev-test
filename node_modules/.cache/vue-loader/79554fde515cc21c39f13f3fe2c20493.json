{"remainingRequest":"/var/www/html/matheus/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/matheus/blog/src/views/CadastroPost.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/matheus/blog/src/views/CadastroPost.vue","mtime":1569618064844},{"path":"/var/www/html/matheus/blog/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/var/www/html/matheus/blog/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/matheus/blog/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport api from '../services/api';\nimport { constants } from 'crypto';\nexport default {\n\n    data:()=>({\n       post:{\n          titulo:'',\n          texto :'',\n          categoria :'',\n          imagen:null\n\n       },\n       itemSelect:[]\n    }),\n    created() {\n              this.pegaCategoria();\n          },\n\n    methods:{\n         \n         pegaCategoria(){\n            api.get('categorias').then(response=>{\n             \n              this.itemSelect = response.data;\n               console.log(this.itemSelect)\n            })\n         },\n\n         salvaPostagem(){\n           const img =new FormData();\n           const data = {\n             'imagem':this.post.imagen,\n             'titulo':this.post.titulo,\n             'texto_postagem': this.post.texto,\n             'categoria_id':this.post.categoria\n           }\n           console.log(data);\n           img.append('image',this.post.imagen,this.post.imagen.name)\n            api.post('postagens',data).then(response=>{\n                console.log(response.data)\n            })\n         },\n\n         pegaImagem(){\n           this.$refs.fileInput.click()\n         },\n\n         pegaImagemEscolhida(event){\n           \n          //  console.log(event.target.files[0]);\n            this.post.imagen = event.target.files[0]\n         }\n            \n\n    }\n\n}\n",{"version":3,"sources":["CadastroPost.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;;AAEA","file":"CadastroPost.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"about\">\n  <v-flex xs12 sm6 offset-sm3>\n   <form>\n      <v-row>\n          <v-select \n          v-model=\"post.categoria\"\n           item-text=\"titulo\"\n           item-value=\"id\"\n          :items=\"itemSelect\"\n          label=\"Categoria\"\n          required\n        ></v-select>\n      </v-row>\n      <v-row>\n          <v-text-field\n            v-model=\"post.titulo\"\n            :counter=\"10\"\n            label=\"Titulo \"\n            required\n           \n          ></v-text-field>\n      </v-row>\n      <v-row>\n          <v-btn raised class=\"sucesse\" @click=\"pegaImagem\">Upload Imagem</v-btn>\n          <input type=\"file\" style=\"display: none\" ref=\"fileInput\" accept=\"image/*\" @change=\"pegaImagemEscolhida\">\n      </v-row>\n      <v-row>\n          <v-textarea\n                v-model=\"post.texto\"\n                name=\"input-7-1\"\n                label=\"Texto da postagem\"\n               \n          ></v-textarea>\n      </v-row>\n     \n      <v-row>\n          <v-btn class=\"mr-4\" @click=\"salvaPostagem\" >enviar</v-btn>\n        \n      </v-row>\n  </form>\n </v-flex>\n{{post.categoria}}\n{{post.titulo}}\n{{post.texto}}\n  </div>\n</template>\n\n<script>\nimport api from '../services/api';\nimport { constants } from 'crypto';\nexport default {\n\n    data:()=>({\n       post:{\n          titulo:'',\n          texto :'',\n          categoria :'',\n          imagen:null\n\n       },\n       itemSelect:[]\n    }),\n    created() {\n              this.pegaCategoria();\n          },\n\n    methods:{\n         \n         pegaCategoria(){\n            api.get('categorias').then(response=>{\n             \n              this.itemSelect = response.data;\n               console.log(this.itemSelect)\n            })\n         },\n\n         salvaPostagem(){\n           const img =new FormData();\n           const data = {\n             'imagem':this.post.imagen,\n             'titulo':this.post.titulo,\n             'texto_postagem': this.post.texto,\n             'categoria_id':this.post.categoria\n           }\n           console.log(data);\n           img.append('image',this.post.imagen,this.post.imagen.name)\n            api.post('postagens',data).then(response=>{\n                console.log(response.data)\n            })\n         },\n\n         pegaImagem(){\n           this.$refs.fileInput.click()\n         },\n\n         pegaImagemEscolhida(event){\n           \n          //  console.log(event.target.files[0]);\n            this.post.imagen = event.target.files[0]\n         }\n            \n\n    }\n\n}\n</script>\n"]}]}